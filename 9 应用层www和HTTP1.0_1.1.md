 

一、应用层概念
-------

### 1、应用层的作用和常用协议

应用层是[计算机网络](https://so.csdn.net/so/search?q=%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C&spm=1001.2101.3001.7020)体系结构的最顶层。它的发展是最快的。

*   **应用层为终端用户提供具体的网络服务**，例如：
    *   网页浏览（HTTP/HTTPS）
    *   文件传输（FTP、SFTP）
    *   电子邮件（SMTP、POP3、IMAP）
    *   远程访问（SSH、Telnet）
    *   域名解析（DNS）
    *   实时通信（WebSocket、SIP）

### 2、应用层协议的定义

*   应用层协议 (application layer protocol) 定义了**在不同端系统上应用程序是如何相互传输报文的**。一般来说，应用层协议会**规定如下内容**：
    *   交换的报文类型：交换的是请求报文还是响应报文。
    *   报文字段的解释：对报文中各个字段的详细描述。
    *   报文字段的语义：报文各个字段的含义是什么。
    *   报文交换时间、方式：程序何时、以什么方式发送报文及响应。

> **注意**：应用层只是**产生和使用**数据的逻辑层，我们**不需要知道**如何[发送数据](https://so.csdn.net/so/search?q=%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE&spm=1001.2101.3001.7020)和数据发送到哪里。

2、应用层体系结构
---------

### 2.1、常见的体系结构

应用层体系结构定义了**应用层端系统之间的数据交换的方式**。  
主流的体系结构：

*   客户-服务器（C/S）
*   对等体系结构（P2P）

### 2.2、C/S

*   定义
    *   核心角色：
        *   服务器（Server）：**集中提供资源或服务**（如数据存储、计算、文件共享）。
        *   客户端（Client）：**向服务器发起请求并接收响应**（如浏览器、手机APP）。
        *   通信模式：单向请求-响应模式（**客户端主动，服务器被动**）。
*   **体系特点**
    *   客户和服务器是指通信中所涉及的两个应用进程。
    *   客户/服务器方式所描述的是进程之间服务和被服务的关系。
    *   客户是服务请求方，服务器是服务提供方。
    *   服务器总是处于运行状态，并等待客户的服务请求。

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/6dae4994a34b4e278c9964b2fccb4e1e.png)

*   我们最常见的服务端就是Web服务器，Web服务器提供于来自浏览器的请求。我们日常访问百度、谷歌，其实就是在访问它们的Web服务器。
    *   ⼀般常见的 Web 服务器主要有Apache、IIS、Jboss、Tomcat、WebSphere、WebLogic 等。
*   **容易产生的问题**：随着客户数量的急剧增加导致单台服务器无法满足大量请求的情况。所以C/S 的鲁棒性 很差。**总而言之就是，一旦服务器出问题，它的客户都要完蛋**。
    *   **解决方法**： 需要配备**大量的数据中心** (data center) ，用来**跟踪所有的用户请求**。

> **注意**：  
> ①：在客户 - 服务器模式下，通常**客户彼此之间是并不互相通信**的。  
> ②：服务器通常**具有固定的、周知的 IP 地址**可以提供访问。

### 2.3、P2P

*   定义
    *   核心角色：**所有节点（Peer）既是客户端又是服务器，彼此平等共享资源**。
    *   通信模式：节点之间**直接通信**，**无需中心服务器协调**。
*   **对等方**
    *   定义：在P2P方式中，没有固定的服务请求者和服务提供者，分布在网络边缘各端系统中的应用进程是对等的，被称为对等方。
    *   对等方相互之间直接通信，**每个对等方既是服务的请求者，又是服务的提供者**。

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b2985ef28c54470c9c7805e060bce77f.png)

*   体系特点
    *   扩展性（**这是P2P最大的特点**）
        *   能让所有的客户端都能提供资源、服务。
        *   例如：A想看电影《哪吒》，但是服务器告诉他，“E也在看，E的内容正在缓存中”，你可以找E要资源。
    *   成本优势
        *   不需要庞大的服务器设置和服务器带宽。

二、万维网www
--------

### 1、理解

万维网（World Wide Web，WWW）并非某种特殊的计算机网络。通过**超文本**（Hypertext）和**超链接**（Hyperlink） **将全球文档与资源连接成一个庞大的信息网络**。

*   **超文本**
    *   超文本 是一种包含**非顺序性链接的文本形式**，允许**通过点击特定标记**（如文字、图片）跳转到其他文档或资源。
*   **超链接**
    *   超链接 是**超文本中实现跳转功能的可点击元素**，通常表现为带下划线的文字、按钮或图片。
*   **万维网定义了三个比较重要的概念**
    *   ①URI定义了访问信息的手段和位置
    *   ②文档规范
    *   ③HTTP定义了www的访问规范
*   Web浏览器
    *   用来**显示WWW结果的客户端**被称为 Web 浏览器。通过浏览器，**我们无需关注想要访问的内容在哪个服务器上， 我们只需要知道我们想访问的内容就可以了**。  
        ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/8a2ea49abdee43c09137b149526a3529.png)

### 2、统一资源的符

*   **URI** (Uniform Resource Identifier) 中文名称是**统一资源标识符**，使用它就能够唯⼀地标记互联网上资源。
*   **URL** (Uniform Resource Locator) 中文名称是**统一资源定位符**，也就是我们俗称的网址，它实际上是URI 的一个子集。**标识资源的位置及访问方式（如协议、域名、路径）**。
*   **URN**（统一资源名称，Uniform Resource Name） 是用于唯一且**持久标识资源**的字符串，属于URI（统一资源标识符）体系的一部分。**仅通过名称标识资源，与位置无关**。  
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/fcb5bf4c65384f4f8e58dbb20dacfb06.png)
*   URI 已经不局限于标识互联⽹资源，它可以作为所有资源的识别码。**URL的⼀般形式由以下四个部分组成**：  
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/b6481882ae44451a9b068619b1af827f.png)

> *   例子分析
> 
> ```bash
> https://cn.bing.com/search?mkt=zh-cn&pc=LNVB&FORM=LNOVCH&q=unbuntu
> ```
> 
> *   协议：https（加密传输）。
> *   域名：cn.bing.com（必应中国站）。
> *   路径：/search（搜索功能入口）。
> *   查询参数（Query Parameters）：**以 ? 开头，& 分隔多个键值对**。【键值对可以理解成：“姓名：Echo”，姓名就是键（key），Echo就是值（value）】
> *   端口：例如：ssh是20，http是80等等。

### 3、万维网文档

#### 3.1、HTML

HTML(HyperText Markup Language，HTML) 称为**超文本标记语言**，是一种标识性的语言。它**通过标签（Tags）定义网页内容和结构**。

#### 3.2、CSS

CSS（**层叠样式表**，Cascading Style Sheets） 是用于描述网页内容外观和布局的样式语言，与HTML结合使用，实现网页的视觉设计和响应式交互。【**简单来说就是html只能展示文本，但是css可以在网页加颜色那些东西，更好看**。】

#### 3.3、JavaScript

**⼀种脚本语言，能控制网页的行为**。

#### 3.4、HTTP

Web的应用层协议就是HTTP（超文本传输协议），它是Web的核心协议。  
HTTP**定义了浏览器（万维网客户端进程）怎样向万维网服务器请求万维网文档，以及万维网服务器怎样把万维网文档传送给浏览器**。

三、HTTP
------

### 1、理解

HTTP（超文本传输协议，HyperText Transfer Protocol） 是互联网上应用最广泛的协议之一，用于在客户端（如浏览器）和服务器之间传输超文本（如HTML文件）

> 注意：**它使用TCP作为运输层协议**，因为文档、数据这些信息在我们看来是一种重要的信息，不可丢失。

### 2、HTTP连接行为

#### 2.1、HTTP/1.0

*   HTTP/1.0采用**非持续连接方式**。**在该方式下，每次浏览器要请求一个文件都要与服务器建立TCP连接，当收到响应后就立即关闭连接**。  
    ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/8e7f332054614c74b84f70679305a727.png)
*   每**请求⼀个文档**就要有两倍的**RTT**的开销。若一个网页上有很多引用对象（例如图片等），那么**请求每一个对象**都需要花费**2RTT**的时间。
*   **为了减小时延**，浏览器通常会**建立多个并行的TCP连接同时请求多个对象**。**但是**，**这会大量占用万维网服务器的资源**，特别是万维网服务器往往要同时服务于大量客户的请求，这会使其负担很重。

#### 2.2、HTTP/1.1

*   HTTP/1.1采用持续连接方式。允许多个请求-响应复用同一个 TCP 连接，减少连接建立和关闭的开销【**可以理解成：客户a和服务器b发送完文档后，连接没有断掉，它们还可以继续发送其他数据**】。

#### 2.3、HTTP报文格式

*   HTTP（超文本传输协议，HyperText Transfer Protocol）的**格式分为请求格式和响应格式**，分别用于客户端向服务器发送请求和服务器向客户端返回响应。
*   HTTP协议由三大部分组成
    *   **起始行（start line）**：描述请求或响应的基本信息。
    *   **头部字段（header）**：使用 key-value 形式更详细地说明报文。
        *   起始行和头部字段在一起时，被称为请求头或响应头（Header）。
    *   **消息正文（entity）**： **也叫实体（body）**，实际传输的数据，它不一定是纯文本类型，可以是图片、视频等二进制数据。

> 注意：**HTTP协议规定必须有Header**，但是**可以没有body**。而且在**Header和Body之间必须要有一个空行**（CRLF 是 Carriage Return (回车) + Line Feed (换行) 的缩写。也就是说需要/r和/n才能**分隔请求行、头部和请求体**。）【CR：\\r 、LF：\\n】。

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/dbcb542a0cd04fea9e9524403351c3e2.png)

#### 2.4、HTTP请求

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3f293f03533e4a468d2f894a7bf6ca9d.png)  
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/5761623807744d7197013e26d2487614.png)  
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/0a4f742a9bf24489a7844650933f54d3.png)

> 可以不记，了解即可。除非走相关方向，需要记。

> 注意：
> 
> *   \*\* 使用GET方法，是没有实体体的\*\*。但是，**使用POST方法，是有实体体的**。
>     *   当**用户提交表单**时，HTTP 客户端通常使用 POST 方法
>     *   **HTML 表单的获取**通常使用 GET 方法。
>     *   **HEAD 方法**类似于 GET 方法，**只不过 HEAD 方法不会返回对象**。

*   ### 请求行
    
    *   格式：方法 URL 协议版本
        *   **方法**：请求类型（如 GET、POST）。
        *   **URL**：请求资源的路径（如 /index.html）。
        *   **协议版本**：HTTP版本（如 HTTP/1.1）。
*   ### 首部行（也叫请求头）
    
    *   格式：头部字段: 值
        *   常见的首部字段类型
            *   ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/018525238fb542a98ce698ecd1ea1087.png)
*   ### 实体体（也叫请求体）
    
    *   用于传输数据。

#### 2.5、HTTP响应

![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/484a661df025414788f7de758dbe97e2.png)

> 例如：我上个月使用了一个地址https://www.example.com/maintenance.html。  
> 这个月，它改成别的地址了，就无法打开之前的网页了。网络会提示302 found信息和一部分地址。通过这部分地址可以找到新的网页。

> 本地浏览器缓存：  
> 远程服务器访问html网页。此时的本地浏览器缓存为空。
> 
> *   首次访问：
>     *   本地浏览器缓存为空，从远程服务器获取 HTML 页面。
>     *   浏览器缓存该页面（根据服务器的缓存控制策略）。
> *   离开页面：
>     *   页面被缓存在本地浏览器中。
> *   重新访问：
>     *   浏览器向远程服务器发起请求，检查资源是否更新。
>     *   如果资源未更新，服务器返回 304 Not Modified，浏览器使用缓存。
>     *   如果资源已更新，服务器返回新的 HTML 页面
> *   **从而确保用户始终获取最新的内容**。

*   ### 状态行
    
    *   格式：协议版本 状态码 状态描述
        *   **协议版本**：HTTP版本（如 HTTP/1.1）。
        *   **状态码**：3位数字，表示请求结果（如 200）。
        *   **响应状态**：状态码的文本描述（如 OK）。
*   ### 响应头（首部行）
    
    *   格式：头部字段: 值
    *   常见响应头：
        *   ![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/3ea408d557514714b2a83fb26bde5317.png)
*   ### 实体体（响应体）
    
    *   返回的数据（如HTML、JSON、图片）。

#### 2.6、HTTP协议特征

*   ### 支持客户-服务器模式
    
*   ### 简单快速
    
    *   客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有 GET、 HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于 **HTTP 协议简单，使得 HTTP 服务器的程序规模小，因而通信速度很快**。
*   ### 灵活
    
    *   HTTP 允许**传输任意类型的数据对象**。正在传输的类型由 Content-Type 加以标记。
*   ### 无连接
    
    *   **无连接的含义是限制每次连接只处理⼀个请求**。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。
*   ### 无状态
    
    *   **HTTP 协议是无状态协议**。**无状态是指协议对于事务处理没有记忆能力**。缺少状态意味着如果后续处理需要前面的信息，则它必须**重传**，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。

本文转自 <https://blog.csdn.net/2401_82911768/article/details/146110479?spm=1001.2014.3001.5502>，如有侵权，请联系删除。